{
    "version": "3.7.0",
    "description": "A tiling window manager for Windows inspired by i3 and Polybar (nonportable installation).",
    "homepage": "https://github.com/glzr-io/glazewm",
    "license": "GPL-3.0-only",
    "architecture": {
        "64bit": {
            "url": "https://github.com/glzr-io/glazewm/releases/download/v3.7.0/standalone-glazewm-v3.7.0-x64.msi",
            "hash": "733C09B3D19BF68FD5A522EE8F068F48CADE8EC7422A4AA8A0D18B2BEEBE3494"
        },
        "arm64": {
            "url": "https://github.com/glzr-io/glazewm/releases/download/v3.7.0/standalone-glazewm-v3.7.0-arm64.msi",
            "hash": "C1C91D4E29863A9454C336101D57042A97613138F6403B1F718D018AD52BF517"
        }
    },
    "installer": {
        "script": [
            "Start-Process msiexec -ArgumentList @('/i', \"$dir\\$fname\", '/quiet') -Wait -Verb RunAs",
            "$programFilesPath = [System.Environment]::GetFolderPath('ProgramFiles');",
            "$destinationPath = Join-Path $programFilesPath 'GlazeWM';",
            "$sourcePath = Join-Path \"$dir\" 'PFiles64\\glzr.io\\GlazeWM';",
            "if (!(Test-Path $sourcePath)) { throw \"Source path not found: $sourcePath\" }",
            "Write-Host \"Resolved source path: $sourcePath\";",
            "Write-Host \"Resolved destination path: $destinationPath\";",
            "$elevatedScriptPath = Join-Path \"$dir\" 'elevated-copy-glazewm.ps1';",
            "@'\n",
            "param (\n",
            "    [string]$sourcePath,\n",
            "    [string]$destinationPath\n",
            ")\n",
            "if (-Not (Test-Path $destinationPath)) {\n",
            "    New-Item -ItemType Directory -Force -Path $destinationPath\n",
            "}\n",
            "Copy-Item -Recurse -Force \"$sourcePath\\*\" \"$destinationPath\"\n",
            "if (!(Test-Path (Join-Path $destinationPath 'glazewm.exe'))) {\n",
            "    throw \"Move failed. File not found in destination path.\"\n",
            "}\n",
            "Get-ChildItem \"$destinationPath\" | Out-String | Write-Host\n",
            "'@ | Set-Content -Path $elevatedScriptPath;",
            "Start-Process powershell -ArgumentList \"-ExecutionPolicy Bypass\", \"-File $elevatedScriptPath\", \"-sourcePath $sourcePath\", \"-destinationPath $destinationPath\" -Wait -Verb RunAs",
            "Remove-Item -Recurse -Force $elevatedScriptPath",
            "Write-Host 'Cleaning up source directory...';",
            "Remove-Item -Recurse -Force \"$sourcePath\" -ErrorAction SilentlyContinue"
        ]
    },
    "uninstaller": {
        "script": [
            "Write-Host 'Attempting to uninstall GlazeWM...';",
            "$programFilesPath = [System.Environment]::GetFolderPath('ProgramFiles');",
            "$destinationPath = Join-Path $programFilesPath 'GlazeWM';",
            "Start-Process powershell -ArgumentList \"-ExecutionPolicy Bypass\", \"-Command\", \"Remove-Item -Recurse -Force '$destinationPath'\" -Wait -Verb RunAs",
            "if (!(Test-Path $destinationPath)) { Write-Host 'GlazeWM uninstalled successfully.' } else { throw 'Uninstallation failed. Directory still exists.' }"
        ]
    },
    "shortcuts": [
        [
            "C:\\Program Files\\GlazeWM\\glazewm.exe",
            "GlazeWM"
        ]
    ],
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/glzr-io/glazewm/releases/download/v$version/standalone-glazewm-v$version-x64.msi"
            },
            "arm64": {
                "url": "https://github.com/glzr-io/glazewm/releases/download/v$version/standalone-glazewm-v$version-arm64.msi"
            }
        }
    }
}
